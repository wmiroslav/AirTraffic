<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>AirTraffic by Miroslav Vislavski</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>

    <div id="loading-spinner" class="lds-ripple hidden"><div></div><div></div></div>

    <div id="toast-wrapper" class="toast">
        <p class="center" id="toast"></p>
    </div>

    <section id="selected-airplane" class="hidden modal-container padding">
        <button id="close-airplane" class="closeBtn">X</button>
        <div class="modal fadein-and-move">
            <div id="airplane-data">
                <!-- rendered from handlebars -->
            </div>
        </div>
    </section>

    <section class="container padding">
        <h1 class="light fadein title">AirTraffic</h1>
        <div id="questionWrapper" class="center question-wrapper fadein-and-scale">
            <h4 class="center fadein">Enable geolocation?</h4>
            <p style="margin-bottom: .8rem;">We use api from another server, so please disable CORS, with browser CORS plugin.</p>
            <button id="allowLocation">Use my location</button>
            <button class="warning-btn" id="deniedLocation">Don't use my location</button>
            <p class="warning-msg light" id="warning"> </p>
        </div>
        <div id="airplanes-container" class="hidden">
            <p class="padding time-refreshed">Refreshed at: <span id="time"></span></p>
            <p class="list-heading">
                <span class="icon-orientation">Direction</span>
                <span class="altitude">Altitude</span>
                <span class="long-text code-number">Flight code numbe</span>
            </p>
            <ul id='list' class="airplane-list">
                <!-- rendered from handlebars -->
            </ul>
        </div>
    </section>

    <!-- CSS animation -->
    <div class="airplane-animation">
        <img class="cloud cloud01" src="./images/cloud1.png" />
        <img class="cloud cloud02" src="./images/cloud2.png" />
        <img class="cloud cloud02" src="./images/cloud3.png" />
        <div class="airplane-container">
            <img class="airplane" src="./images/airplane.png" />
        </div>
        <div class="earth-container">
            <img class="earth" src="./images/earth.png" />
        </div>
    </div>

    <a class="git-link" target="_blank" href="https://github.com/wmiroslav/AirTraffic">Git repository</a>
    


    <!-- SELECTED AIRPLANE TEMPLATE -->
    <script id="airplane-data-template" type="text/x-handlebars-template">
        <h3>Manufacture: <span>{{Man}}</span></h3>
        <h4>Model: <span>{{Mdl}}</span></h4>
        <hr>
        <div class="m-t m-b">
            <p>Destination: <span>{{To}}</span></p>
            <p>Flight origin airport: <span>{{From}}</span></p>
        </div>
        <hr>
        <div class="m-t m-b">
            <img id="logo" onerror="this.src='images/noImage.png'" src="{{logoUrl}}" />
        </div>
    </script>


    <!-- AIRPLANE LIST TEMPLATES -->
    <script id="list-template" type="text/x-handlebars-template">
        {{#each airplanes}}
        <li>
            <p data-id={{Id}}>
                <span class="icon-orientation {{#direction Brng}}east{{/direction}}"></span>
                <span class="altitude">{{Alt}}</span>
                <span class="code-number">{{CNum}}</span>
            </p>
        </li>
        {{/each}}
    </script>



    <script type="text/javascript" src="scripts/scripts.min.js"></script>
    <noscript>
        <div class="toast">
            <p class="center">Please, enable Javascipt.</p>
        </div>
    </noscript>

</body>

</html>